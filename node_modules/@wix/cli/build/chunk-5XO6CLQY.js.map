{"version":3,"sources":["../../cli-site-old/src/authentication.ts"],"sourcesContent":["import { authenticateWithSiteId } from '@wix/cli-auth';\nimport { addUserFields } from '@wix/cli-telemetry';\nimport type { BiLogger } from '@wix/cli-telemetry';\nimport type { ErrorReporter } from '@wix/cli-error-reporting';\n\nexport async function authenticate({\n  metaSiteId,\n  biLogger,\n  errorReporter,\n}: {\n  metaSiteId: string;\n  biLogger: BiLogger;\n  errorReporter: ErrorReporter;\n}) {\n  // eslint-disable-next-line @typescript-eslint/no-deprecated\n  const authState = await authenticateWithSiteId(\n    metaSiteId,\n    biLogger,\n    errorReporter\n  );\n  errorReporter.setUser({ id: authState.userInfo.userId });\n  addUserFields(biLogger, authState.userInfo.userId);\n\n  return authState;\n}\n"],"mappings":";;;;;;;;;;;;;AAAA;AAKA,eAAsB,aAAa;AAAA,EACjC;AAAA,EACA;AAAA,EACA;AACF,GAIG;AAED,QAAM,YAAY,MAAM;AAAA,IACtB;AAAA,IACA;AAAA,IACA;AAAA,EACF;AACA,gBAAc,QAAQ,EAAE,IAAI,UAAU,SAAS,OAAO,CAAC;AACvD,gBAAc,UAAU,UAAU,SAAS,MAAM;AAEjD,SAAO;AACT;","names":[]}
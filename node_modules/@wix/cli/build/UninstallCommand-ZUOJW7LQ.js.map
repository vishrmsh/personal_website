{"version":3,"sources":["../../cli-site/src/components/UninstallCommand/UninstallCommand.tsx"],"sourcesContent":["import React from 'react';\nimport type { FC } from 'react';\nimport { match } from 'variant';\nimport { Trans } from '@wix/cli-i18n';\nimport { useVeloClient } from '@wix/velo-client';\nimport { useAsync, Spinner, Alert, Badge, Text } from '@wix/cli-ui-kit';\nimport { createDependenciesService } from '../../services/dependencies.js';\nimport { useProjectModel } from '../../model.js';\n\ninterface Props {\n  packageName: string;\n}\n\nexport const UninstallCommand: FC<Props> = ({ packageName }) => {\n  const { model } = useProjectModel();\n  const veloClient = useVeloClient();\n\n  const { status } = useAsync(async () => {\n    const { projectFolder } = model;\n    const service = await createDependenciesService(projectFolder, veloClient);\n\n    await service.uninstall(packageName);\n  }, []);\n\n  return match(status, {\n    Loading: () => (\n      <Spinner\n        text={\n          <Trans\n            i18nKey=\"uninstall_command.loading\"\n            values={{ packageName }}\n            components={[<Text bold />]}\n          />\n        }\n      />\n    ),\n    Error: () => null,\n    Success: () => (\n      <Alert type=\"success\">\n        <Badge skin=\"success\">\n          <Trans i18nKey=\"general.success\" />\n        </Badge>{' '}\n        <Trans\n          i18nKey=\"uninstall_command.success\"\n          values={{ packageName }}\n          components={[<Text bold />]}\n        />\n      </Alert>\n    ),\n  });\n};\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA,mBAAkB;AAElB,qBAAsB;AAWf,IAAM,mBAA8B,CAAC,EAAE,YAAY,MAAM;AAC9D,QAAM,EAAE,MAAM,IAAI,gBAAgB;AAClC,QAAM,aAAa,cAAc;AAEjC,QAAM,EAAE,OAAO,IAAI,SAAS,YAAY;AACtC,UAAM,EAAE,cAAc,IAAI;AAC1B,UAAM,UAAU,MAAM,0BAA0B,eAAe,UAAU;AAEzE,UAAM,QAAQ,UAAU,WAAW;AAAA,EACrC,GAAG,CAAC,CAAC;AAEL,aAAO,sBAAM,QAAQ;AAAA,IACnB,SAAS,MACP,6BAAAA,QAAA;AAAA,MAAC;AAAA;AAAA,QACC,MACE,6BAAAA,QAAA;AAAA,UAAC;AAAA;AAAA,YACC,SAAQ;AAAA,YACR,QAAQ,EAAE,YAAY;AAAA,YACtB,YAAY,CAAC,6BAAAA,QAAA,cAAC,QAAK,MAAI,MAAC,CAAE;AAAA;AAAA,QAC5B;AAAA;AAAA,IAEJ;AAAA,IAEF,OAAO,MAAM;AAAA,IACb,SAAS,MACP,6BAAAA,QAAA,cAAC,SAAM,MAAK,aACV,6BAAAA,QAAA,cAAC,SAAM,MAAK,aACV,6BAAAA,QAAA,cAAC,SAAM,SAAQ,mBAAkB,CACnC,GAAS,KACT,6BAAAA,QAAA;AAAA,MAAC;AAAA;AAAA,QACC,SAAQ;AAAA,QACR,QAAQ,EAAE,YAAY;AAAA,QACtB,YAAY,CAAC,6BAAAA,QAAA,cAAC,QAAK,MAAI,MAAC,CAAE;AAAA;AAAA,IAC5B,CACF;AAAA,EAEJ,CAAC;AACH;","names":["React"]}
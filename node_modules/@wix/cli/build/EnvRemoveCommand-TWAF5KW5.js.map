{"version":3,"sources":["../../cli-astro-commands/src/components/EnvRemoveCommand/index.ts","../../cli-astro-commands/src/components/EnvRemoveCommand/EnvRemoveCommand.tsx","../../cli-astro-commands/src/components/EnvRemoveCommand/EnvRemove.tsx"],"sourcesContent":["export { EnvRemoveCommand } from './EnvRemoveCommand.js';\n","import React from 'react';\nimport type { FC } from 'react';\nimport { SiteAuthProvider } from '@wix/cli-auth';\nimport { useProjectModel } from '../../model.js';\nimport { EnvRemove } from './EnvRemove.js';\n\nexport const EnvRemoveCommand: FC<{\n  variableKey: string;\n}> = ({ variableKey }) => {\n  const {\n    model: {\n      config: { siteId },\n    },\n  } = useProjectModel();\n\n  return (\n    <SiteAuthProvider siteId={siteId}>\n      <EnvRemove variableKey={variableKey} />\n    </SiteAuthProvider>\n  );\n};\n","import React from 'react';\nimport type { FC } from 'react';\nimport { match } from 'variant';\nimport { Alert, Spinner, useAsync } from '@wix/cli-ui-kit';\nimport { useBackendAsAServiceClient } from '@wix/backend-as-a-service-client';\nimport { useProjectModel } from '../../model.js';\n\nconst ENV_NAME = 'prod';\n\nexport const EnvRemove: FC<{ variableKey: string }> = ({ variableKey }) => {\n  const { model } = useProjectModel();\n  const backendAsAServiceClient = useBackendAsAServiceClient();\n\n  const { status } = useAsync(async () => {\n    await backendAsAServiceClient.removeAppEnvironmentVariable(\n      model.config.appId,\n      ENV_NAME,\n      variableKey\n    );\n  }, []);\n\n  return match(status, {\n    Loading: () => <Spinner text=\"Removing environment variable...\" />,\n    Success: () => (\n      <Alert type=\"success\">\n        \"{variableKey}\" was successfully removed from \"{ENV_NAME}\" environment.\n        Note: This only removes the variable from the remote environment. It\n        won't delete it from .env.local.\n      </Alert>\n    ),\n    Error: () => null,\n    NotRequested: () => null,\n  });\n};\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;;ACAA;AAAA,IAAAA,gBAAkB;;;ACAlB;AAAA,mBAAkB;AAElB,qBAAsB;AAKtB,IAAM,WAAW;AAEV,IAAM,YAAyC,CAAC,EAAE,YAAY,MAAM;AACzE,QAAM,EAAE,MAAM,IAAI,gBAAgB;AAClC,QAAM,0BAA0B,2BAA2B;AAE3D,QAAM,EAAE,OAAO,IAAI,SAAS,YAAY;AACtC,UAAM,wBAAwB;AAAA,MAC5B,MAAM,OAAO;AAAA,MACb;AAAA,MACA;AAAA,IACF;AAAA,EACF,GAAG,CAAC,CAAC;AAEL,aAAO,sBAAM,QAAQ;AAAA,IACnB,SAAS,MAAM,6BAAAC,QAAA,cAAC,WAAQ,MAAK,oCAAmC;AAAA,IAChE,SAAS,MACP,6BAAAA,QAAA,cAAC,SAAM,MAAK,aAAU,KAClB,aAAY,qCAAkC,UAAS,sHAG3D;AAAA,IAEF,OAAO,MAAM;AAAA,IACb,cAAc,MAAM;AAAA,EACtB,CAAC;AACH;;;AD3BO,IAAM,mBAER,CAAC,EAAE,YAAY,MAAM;AACxB,QAAM;AAAA,IACJ,OAAO;AAAA,MACL,QAAQ,EAAE,OAAO;AAAA,IACnB;AAAA,EACF,IAAI,gBAAgB;AAEpB,SACE,8BAAAC,QAAA,cAAC,oBAAiB,UAChB,8BAAAA,QAAA,cAAC,aAAU,aAA0B,CACvC;AAEJ;","names":["import_react","React","React"]}
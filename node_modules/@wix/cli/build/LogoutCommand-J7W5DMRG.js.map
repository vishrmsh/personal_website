{"version":3,"sources":["../src/components/LogoutCommand/index.ts","../src/components/LogoutCommand/LogoutCommand.tsx"],"sourcesContent":["export { LogoutCommand } from './LogoutCommand.js';\n","import React from 'react';\nimport type { FC } from 'react';\nimport type { UserInfo } from '@wix/cli-auth';\nimport {\n  Box,\n  ConfirmInput,\n  useAsyncCallback,\n  Spinner,\n  Text,\n} from '@wix/cli-ui-kit';\nimport { logout } from '@wix/cli-auth';\nimport { match } from 'variant';\n\ninterface Props {\n  userInfo: UserInfo | null;\n}\n\nexport const LogoutCommand: FC<Props> = ({ userInfo }) => {\n  const logoutAction = useAsyncCallback(logout);\n\n  if (userInfo == null) {\n    return <Text>Wix CLI is already logged out</Text>;\n  }\n\n  return (\n    <>\n      <Box marginBottom={1}>\n        <Text>When you're logged out you cannot use Wix CLI commands</Text>\n      </Box>\n\n      <ConfirmInput\n        label={'Proceed with logout?'}\n        initialValue={true}\n        onSubmit={(confirmed) => {\n          if (confirmed) {\n            void logoutAction.execute();\n          }\n        }}\n      />\n\n      {match(logoutAction.status, {\n        NotRequested: () => null,\n        Error: () => null,\n        Loading: () => <Spinner />,\n        Success: () => <Text>Wix CLI is logged out</Text>,\n      })}\n    </>\n  );\n};\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;;ACAA;AAAA,mBAAkB;AAWlB,qBAAsB;AAMf,IAAM,gBAA2B,CAAC,EAAE,SAAS,MAAM;AACxD,QAAM,eAAe,iBAAiB,MAAM;AAE5C,MAAI,YAAY,MAAM;AACpB,WAAO,6BAAAA,QAAA,cAAC,YAAK,+BAA6B;AAAA,EAC5C;AAEA,SACE,6BAAAA,QAAA,2BAAAA,QAAA,gBACE,6BAAAA,QAAA,cAAC,eAAI,cAAc,KACjB,6BAAAA,QAAA,cAAC,YAAK,wDAAsD,CAC9D,GAEA,6BAAAA,QAAA;AAAA,IAAC;AAAA;AAAA,MACC,OAAO;AAAA,MACP,cAAc;AAAA,MACd,UAAU,CAAC,cAAc;AACvB,YAAI,WAAW;AACb,eAAK,aAAa,QAAQ;AAAA,QAC5B;AAAA,MACF;AAAA;AAAA,EACF,OAEC,sBAAM,aAAa,QAAQ;AAAA,IAC1B,cAAc,MAAM;AAAA,IACpB,OAAO,MAAM;AAAA,IACb,SAAS,MAAM,6BAAAA,QAAA,cAAC,aAAQ;AAAA,IACxB,SAAS,MAAM,6BAAAA,QAAA,cAAC,YAAK,uBAAqB;AAAA,EAC5C,CAAC,CACH;AAEJ;","names":["React"]}
{"version":3,"sources":["../../cli-site/src/components/PreviewCommand/PreviewCommand.tsx"],"sourcesContent":["import React from 'react';\nimport type { FC } from 'react';\nimport { match, isType } from 'variant';\nimport { Trans } from '@wix/cli-i18n';\nimport { DeploymentStatus } from '@wix/document-management-client';\nimport { useAsync, Spinner, Alert, Badge, Link } from '@wix/cli-ui-kit';\nimport { useCreatePreview } from './useCreatePreview.js';\n\nexport const PreviewCommand: FC = () => {\n  const createPreview = useCreatePreview();\n\n  const { status } = useAsync(async () => {\n    const { previewUrl, deploymentStatus } = await createPreview();\n\n    if (isType(deploymentStatus, DeploymentStatus.Error)) {\n      throw deploymentStatus.deploymentError;\n    }\n\n    return previewUrl;\n  }, []);\n\n  return match(status, {\n    Error: () => null,\n    Loading: () => (\n      <Spinner text={<Trans i18nKey=\"preview_command.loading\" />} />\n    ),\n    Success: ({ result: previewUrl }) => (\n      <Alert type=\"success\">\n        <Badge skin=\"success\">\n          <Trans i18nKey=\"general.success\" />\n        </Badge>{' '}\n        <Trans\n          i18nKey=\"preview_command.success\"\n          components={[<Link url={previewUrl} />]}\n        />\n      </Alert>\n    ),\n  });\n};\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA,mBAAkB;AAElB,qBAA8B;AAMvB,IAAM,iBAAqB,MAAM;AACtC,QAAM,gBAAgB,iBAAiB;AAEvC,QAAM,EAAE,OAAO,IAAI,SAAS,YAAY;AACtC,UAAM,EAAE,YAAY,iBAAiB,IAAI,MAAM,cAAc;AAE7D,YAAI,uBAAO,kBAAkB,iBAAiB,KAAK,GAAG;AACpD,YAAM,iBAAiB;AAAA,IACzB;AAEA,WAAO;AAAA,EACT,GAAG,CAAC,CAAC;AAEL,aAAO,sBAAM,QAAQ;AAAA,IACnB,OAAO,MAAM;AAAA,IACb,SAAS,MACP,6BAAAA,QAAA,cAAC,WAAQ,MAAM,6BAAAA,QAAA,cAAC,SAAM,SAAQ,2BAA0B,GAAI;AAAA,IAE9D,SAAS,CAAC,EAAE,QAAQ,WAAW,MAC7B,6BAAAA,QAAA,cAAC,SAAM,MAAK,aACV,6BAAAA,QAAA,cAAC,SAAM,MAAK,aACV,6BAAAA,QAAA,cAAC,SAAM,SAAQ,mBAAkB,CACnC,GAAS,KACT,6BAAAA,QAAA;AAAA,MAAC;AAAA;AAAA,QACC,SAAQ;AAAA,QACR,YAAY,CAAC,6BAAAA,QAAA,cAAC,QAAK,KAAK,YAAY,CAAE;AAAA;AAAA,IACxC,CACF;AAAA,EAEJ,CAAC;AACH;","names":["React"]}